<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>英語かるた</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- 設定画面 -->
        <div id="setup" class="screen">
            <h1>英語かるた</h1>
            <div class="setting-item">
                <label for="test-date">実施日:</label>
                <input type="date" id="test-date">
            </div>
            <div class="setting-item">
                <label for="grade-set">学年とセット:</label>
                <select id="grade-set">
                    <option value="">選択してください</option>
                    <option value="list03">3年セット</option>
                    <option value="list04">4年セット</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="voice-select">音声:</label>
                <select id="voice-select"></select>
            </div>
            <div class="setting-item">
                <label for="mode">モード:</label>
                <select id="mode">
                    <option value="normal">通常モード</option>
                    <option value="random">ランダムモード</option>
                </select>
            </div>
            <div class="button-group">
                <button onclick="startGame()">テスト開始</button>
                <button onclick="showHistory()">記録を見る</button>
            </div>
        </div>

        <!-- ゲーム画面 (通常・ランダム共通) -->
        <div id="game-screen" class="screen" style="display:none;">
            <header class="game-header">
                <div class="header-left">
                    <button id="start-button" onclick="startGameLogic()">スタート</button>
                    <button id="repeat-button" onclick="repeatSound()">リピート</button>
                </div>
                <div id="timer">0:00</div>
                <div class="header-right">
                    <button id="quit-button" onclick="quitGame()">中断してメニューに戻る</button>
                </div>
            </header>
            <div id="image-grid"></div>
        </div>

        <!-- 結果画面 -->
        <div id="result" class="screen" style="display:none;">
            <header class="result-header">
                <button onclick="saveResult()">記録を保存</button>
                <h2>結果</h2>
                <button onclick="returnToMenu()">メニューに戻る</button>
            </header>
            <p id="final-time">タイム: 0:00</p>
            <div id="result-table-container"></div>
        </div>

        <!-- 履歴画面 -->
        <div id="history" class="screen" style="display:none;">
            <h2>過去の記録</h2>
            <div id="history-list-table"></div>
            <button onclick="returnToMenu()">戻る</button>
        </div>

        <!-- モーダルウィンドウ -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <p id="modal-message"></p>
                <div class="modal-buttons">
                    <button id="modal-ok">OK</button>
                    <button id="modal-cancel" style="display:none;">キャンセル</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
